<template name="rateBooks">
  <h1>Rate Books</h1>
    <div class="rateBooks">
        <table class="table">
          <thead>
            <tr>
            <th>Rate Book Name</th>
            <th>Is Default?</th>
            </tr>
	  </thead>
	  <tbody>
	    {{#each rateBooks}}
	      {{> rateBookListRow}}
	    {{/each}}
	  </tbody>
	</table>
    </div>
</template>

<template name="rateBookListRow">
  <tr>
    <td><a href="{{pathFor 'rateBookView'}}"> {{this.name}} </a></td>
    <td>{{this.isDefault}}</td>
  </tr>
</template>

<template name="rateBookView">
  <h1><a href="{{pathFor 'rateBooks'}}">Rate Books</a></h1><h2>{{name}}</h2>
  <div class="rateBook">

      <div class="btn-group" style="margin: 10px 10px 10px;">
          <button type="button" class="btn btn-default">Edit</button>
          <button type="button" class="btn btn-default">Delete</button>
      </div>

    <p><strong>isDefault: </strong>{{isDefault}}</p>
    <p><strong>id: </strong>{{_id}}</p>
  </div>

  <div class="panel-group" id="accordion">
    <div class="panel panel-default">
        <h4 class="panel-title">
          <a data-toggle="collapse" data-parent="#accordion" href="#rateBookRoles">
          Roles
          </a>
        </h4>
      <div id="rateBookRoles" class="panel-collapse collapse">
        <div class="panel-body">
          {{#if rateBookRoles.count}}
            <div class="childProjectRoles">
              <table class="table">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Rate</th>
                  </tr>
                </thead>
                <tbody>
                  {{#each rateBookRoles}}
                    {{> rateBookRolesListRow}}
                  {{/each}}
                </tbody>
              </table>
            </div>
          {{else}}
            <p>There are currently no Roles for this Rate Book. {{>rateBookRolesButtons}}</p>
          {{/if}}
        </div>
      </div>
    </div>
    <div class="panel panel-default">
        <h4 class="panel-title">
          <a data-toggle="collapse" data-parent="#accordion" href="#rateBookProjects">
          Projects
          </a>
        </h4>
      <div id="rateBookProjects" class="panel-collapse collapse">
        <div class="panel-body">
          {{#if rateBookProjects.count}}
            <div class="childProjectRoles">
              <table class="table">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  {{#each rateBookProjects}}
                    {{> rateBookProjListRow}}
                  {{/each}}
                </tbody>
              </table>
            </div>
          {{else}}
            <p><strong> There are currently no Projects related to this Rate Book. </strong></p>
          {{/if}}
        </div>
      </div>
    </div>
  </div>
</template>

<template name="rateBookRolesListRow">
  <tr>
    <td> {{role}} </td>
    <td> {{rate}} </td>
  </tr>
</template>

<template name="rateBookRolesButtons">
    <div class="btn-group" style="margin: 10px 10px 10px;">
        <button type="button" class="btn btn-default">Create one</button>
    </div>
</template>

<template name="rateBookProjListRow">
  <tr>
    <td> <a href="{{pathFor 'projectView'}}">{{name}} </a></td>
    <td> {{status}} </td>
  </tr>
</template>
